const btnSave = document.getElementById("btnSave"); btnSave.addEventListener("click", () => { const e = document.getElementById("loginTime").value, t = document.getElementById("logOutTime").value; chrome.storage.sync.set({ logInTime: e, logOutTime: t }, () => { console.log("Setting logIn and logOut time.", { logInTime: e, logOutTime: t }), alert("Your log in and log out time is set.") }) }); const btnReset = document.getElementById("btnReset"); btnReset.addEventListener("click", () => { chrome.storage.sync.remove(["logInTime", "logOutTime", "loggedIn", "loggedOut"], () => { console.log("removed", ["loginTime", "logOutTime", "loggedIn", "loggedOut"]), document.getElementById("loginTime").value = "09:00", document.getElementById("logOutTime").value = "18:00", alert("You are free to fly.") }) }), chrome.storage.sync.get(["logInTime"], e => { console.log("GET", e), 0 !== Object.keys(e).length && (document.getElementById("loginTime").value = e.logInTime) }), chrome.storage.sync.get(["logOutTime"], e => { console.log("GET", e), 0 !== Object.keys(e).length && (document.getElementById("logOutTime").value = e.logOutTime) }); const fpLogIn = flatpickr(document.querySelector("#loginTime"), { enableTime: !0, noCalendar: !0, dateFormat: "H:i", time_24hr: !0, defaultDate: "09:00", onChange: function (e, t, o) { console.log("date: ", t) } }), fpLogOut = flatpickr(document.querySelector("#logOutTime"), { enableTime: !0, noCalendar: !0, dateFormat: "H:i", time_24hr: !0, defaultDate: "18:00", onChange: function (e, t, o) { console.log("date: ", t) } });